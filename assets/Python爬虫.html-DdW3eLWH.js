import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,c as d,b as e,d as i,w as s,a as h,o as p,e as r}from"./app--VhlLr_b.js";const c={},k={class:"table-of-contents"};function g(u,t){const a=l("router-link"),n=l("RouteLink");return p(),d("div",null,[t[10]||(t[10]=e("h1",{id:"python爬虫",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#python爬虫"},[e("span",null,"Python爬虫")])],-1)),e("nav",k,[e("ul",null,[e("li",null,[i(a,{to:"#flag"},{default:s(()=>t[0]||(t[0]=[r("Flag")])),_:1})]),e("li",null,[i(a,{to:"#开源脚本"},{default:s(()=>t[1]||(t[1]=[r("开源脚本")])),_:1})]),e("li",null,[i(a,{to:"#selenium"},{default:s(()=>t[2]||(t[2]=[r("selenium")])),_:1}),e("ul",null,[e("li",null,[i(a,{to:"#函数或变量"},{default:s(()=>t[3]||(t[3]=[r("函数或变量")])),_:1})])])]),e("li",null,[i(a,{to:"#浏览器下载设置"},{default:s(()=>t[4]||(t[4]=[r("浏览器下载设置")])),_:1}),e("ul",null,[e("li",null,[i(a,{to:"#打开新标签页"},{default:s(()=>t[5]||(t[5]=[r("打开新标签页")])),_:1})]),e("li",null,[i(a,{to:"#执行javascript"},{default:s(()=>t[6]||(t[6]=[r("执行JavaScript")])),_:1})])])]),e("li",null,[i(a,{to:"#m3u8解析下载"},{default:s(()=>t[7]||(t[7]=[r("m3u8解析下载")])),_:1})])])]),t[11]||(t[11]=h('<h2 id="flag" tabindex="-1"><a class="header-anchor" href="#flag"><span>Flag</span></a></h2><ul><li><a href="https://github.com/topics/scraper" target="_blank" rel="noopener noreferrer">https://github.com/topics/scraper</a></li><li><a href="https://github.com/topics/webscraper" target="_blank" rel="noopener noreferrer">https://github.com/topics/webscraper</a></li><li><a href="https://github.com/topics/web-scraper" target="_blank" rel="noopener noreferrer">https://github.com/topics/web-scraper</a></li><li><a href="https://github.com/topics/spider" target="_blank" rel="noopener noreferrer">https://github.com/topics/spider</a></li><li><a href="https://github.com/topics/webscraper" target="_blank" rel="noopener noreferrer">https://github.com/topics/webscraper</a></li><li><a href="https://github.com/topics/web-scraper" target="_blank" rel="noopener noreferrer">https://github.com/topics/web-scraper</a></li><li><a href="https://github.com/topics/crawler" target="_blank" rel="noopener noreferrer">https://github.com/topics/crawler</a></li><li><a href="https://github.com/topics/webcrawler" target="_blank" rel="noopener noreferrer">https://github.com/topics/webcrawler</a></li><li><a href="https://github.com/topics/web-crawler" target="_blank" rel="noopener noreferrer">https://github.com/topics/web-crawler</a></li><li><a href="https://github.com/topics/automation" target="_blank" rel="noopener noreferrer">https://github.com/topics/automation</a></li></ul><ul><li><a href="https://github.com/Boris-code/feapder" target="_blank" rel="noopener noreferrer">https://github.com/Boris-code/feapder</a></li><li><a href="https://github.com/pyppeteer/pyppeteer" target="_blank" rel="noopener noreferrer">https://github.com/pyppeteer/pyppeteer</a></li><li><a href="https://github.com/hyperiongray/trio-chrome-devtools-protocol" target="_blank" rel="noopener noreferrer">https://github.com/hyperiongray/trio-chrome-devtools-protocol</a></li><li><a href="https://github.com/chuckus/chromewhip" target="_blank" rel="noopener noreferrer">https://github.com/chuckus/chromewhip</a></li><li><a href="https://github.com/fate0/pychrome" target="_blank" rel="noopener noreferrer">https://github.com/fate0/pychrome</a></li><li><a href="https://github.com/fake-name/ChromeController" target="_blank" rel="noopener noreferrer">https://github.com/fake-name/ChromeController</a></li><li><a href="https://github.com/N0taN3rd/chrome-remote-interface-py" target="_blank" rel="noopener noreferrer">https://github.com/N0taN3rd/chrome-remote-interface-py</a></li><li><a href="https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China" target="_blank" rel="noopener noreferrer">https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China</a></li><li><a href="https://blog.csdn.net/wkb342814892/article/details/81591394" target="_blank" rel="noopener noreferrer">xvfb可以将屏幕的图像输出给放到虚拟内存中</a></li><li><a href="https://github.com/scrapy/scrapy" target="_blank" rel="noopener noreferrer">https://github.com/scrapy/scrapy</a></li><li><a href="https://github.com/mouday/spider-admin-pro" target="_blank" rel="noopener noreferrer">https://github.com/mouday/spider-admin-pro</a></li><li><a href="https://github.com/BuilderIO/gpt-crawler" target="_blank" rel="noopener noreferrer">https://github.com/BuilderIO/gpt-crawler</a></li><li>AI辅助 <a href="https://github.com/coder-hxl/x-crawl" target="_blank" rel="noopener noreferrer">https://github.com/coder-hxl/x-crawl</a></li></ul>',3)),e("p",null,[e("strong",null,[i(n,{to:"/Web/#xpath%E5%92%8Ccss%E9%80%89%E6%8B%A9%E5%99%A8"},{default:s(()=>t[8]||(t[8]=[r("xpath和css选择器")])),_:1})])]),e("p",null,[e("strong",null,[i(n,{to:"/IDE/Chromium.html#HeadlessBrowser"},{default:s(()=>t[9]||(t[9]=[r("HeadlessBrowser")])),_:1})])]),t[12]||(t[12]=h(`<ul><li><a href="https://blog.csdn.net/python_neophyte/article/details/82562330" target="_blank" rel="noopener noreferrer">关于网页referer以及破解referer反爬虫的办法</a></li><li>ReCaptcha验证码（常见为Google验证码） <a href="https://github.com/topics/captcha-solving" target="_blank" rel="noopener noreferrer">https://github.com/topics/captcha-solving</a><ul><li><a href="https://github.com/teal33t/captcha_bypass" target="_blank" rel="noopener noreferrer">https://github.com/teal33t/captcha_bypass</a></li><li><a href="https://github.com/NotHassan/Python-Google-Recaptcha-v2-Solver" target="_blank" rel="noopener noreferrer">https://github.com/NotHassan/Python-Google-Recaptcha-v2-Solver</a></li><li><a href="https://github.com/balanceofprobability/decaptcha" target="_blank" rel="noopener noreferrer">https://github.com/balanceofprobability/decaptcha</a></li><li><a href="https://github.com/IshanManchanda/pyreCAPTCHA" target="_blank" rel="noopener noreferrer">https://github.com/IshanManchanda/pyreCAPTCHA</a></li><li><a href="https://github.com/tafalk/recaptcha-token-resolver-function" target="_blank" rel="noopener noreferrer">https://github.com/tafalk/recaptcha-token-resolver-function</a></li></ul></li><li>使用HTTP拦截器来实现cloudflare请求 <a href="https://github.com/sayem314/hooman" target="_blank" rel="noopener noreferrer">https://github.com/sayem314/hooman</a></li><li>Hashcat破解队列系统 <a href="https://github.com/f0cker/crackq" target="_blank" rel="noopener noreferrer">https://github.com/f0cker/crackq</a></li><li>电话号码的高级信息收集 <a href="https://github.com/sundowndev/PhoneInfoga" target="_blank" rel="noopener noreferrer">https://github.com/sundowndev/PhoneInfoga</a></li></ul><h2 id="开源脚本" tabindex="-1"><a class="header-anchor" href="#开源脚本"><span>开源脚本</span></a></h2><ul><li><a href="https://github.com/search?q=%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E7%88%AC%E8%99%AB" target="_blank" rel="noopener noreferrer">https://github.com/search?q=微信公众号爬虫</a></li><li><a href="https://github.com/search?q=WeChat+Hook" target="_blank" rel="noopener noreferrer">https://github.com/search?q=WeChat+Hook</a></li></ul><ul><li>搜索社交账户 <a href="https://github.com/sherlock-project/sherlock" target="_blank" rel="noopener noreferrer">https://github.com/sherlock-project/sherlock</a></li><li><a href="https://github.com/DropsDevopsOrg/ECommerceCrawlers" target="_blank" rel="noopener noreferrer">https://github.com/DropsDevopsOrg/ECommerceCrawlers</a></li><li><a href="https://github.com/smallfawn/QLScriptPublic" target="_blank" rel="noopener noreferrer">https://github.com/smallfawn/QLScriptPublic</a></li><li><a href="https://github.com/tinygeeker/tinyspiders" target="_blank" rel="noopener noreferrer">https://github.com/tinygeeker/tinyspiders</a></li><li><a href="https://github.com/Moli-X/Resources" target="_blank" rel="noopener noreferrer">https://github.com/Moli-X/Resources</a></li><li>预苗秒杀 <a href="https://github.com/lyrric/seckill" target="_blank" rel="noopener noreferrer">https://github.com/lyrric/seckill</a></li></ul><p><strong>签到</strong></p><ul><li><a href="https://github.com/Sitoi/dailycheckin" target="_blank" rel="noopener noreferrer">https://github.com/Sitoi/dailycheckin</a></li><li><a href="https://github.com/BlueSkyClouds/My-Actions" target="_blank" rel="noopener noreferrer">https://github.com/BlueSkyClouds/My-Actions</a></li><li><a href="https://github.com/mengshouer/CheckinBox" target="_blank" rel="noopener noreferrer">https://github.com/mengshouer/CheckinBox</a></li><li><a href="https://github.com/leecobaby/shortcuts" target="_blank" rel="noopener noreferrer">https://github.com/leecobaby/shortcuts</a></li><li><a href="https://github.com/Wenmoux/checkbox" target="_blank" rel="noopener noreferrer">https://github.com/Wenmoux/checkbox</a></li></ul><p><strong>京东</strong></p><ul><li>京东茅台抢购 <a href="https://github.com/search?q=jd_maotai" target="_blank" rel="noopener noreferrer">https://github.com/search?q=jd_maotai</a></li><li><a href="https://github.com/search?q=%E8%8C%85%E5%8F%B0" target="_blank" rel="noopener noreferrer">https://github.com/search?q=茅台</a></li><li>京东签到 <a href="https://github.com/ruicky/jd_sign_bot" target="_blank" rel="noopener noreferrer">https://github.com/ruicky/jd_sign_bot</a></li><li><a href="https://github.com/ZainCheung/helper-618" target="_blank" rel="noopener noreferrer">https://github.com/ZainCheung/helper-618</a></li><li><a href="https://github.com/tychxn/jd-assistant" target="_blank" rel="noopener noreferrer">https://github.com/tychxn/jd-assistant</a></li><li><a href="https://github.com/xuess/puppeteer-sign" target="_blank" rel="noopener noreferrer">https://github.com/xuess/puppeteer-sign</a></li><li><a href="https://github.com/zqjzqj/mtSecKill" target="_blank" rel="noopener noreferrer">https://github.com/zqjzqj/mtSecKill</a></li><li><a href="https://github.com/Yx1aoq1/jdms" target="_blank" rel="noopener noreferrer">https://github.com/Yx1aoq1/jdms</a></li><li><a href="https://github.com/shylocks/Loon" target="_blank" rel="noopener noreferrer">https://github.com/shylocks/Loon</a></li><li><a href="https://github.com/LXK9301/jd_scripts/tree/master" target="_blank" rel="noopener noreferrer">https://github.com/LXK9301/jd_scripts/tree/master</a></li><li><a href="https://github.com/NobyDa/Script/tree/master" target="_blank" rel="noopener noreferrer">https://github.com/NobyDa/Script/tree/master</a></li><li><a href="https://github.com/yangtingxiao/QuantumultX" target="_blank" rel="noopener noreferrer">https://github.com/yangtingxiao/QuantumultX</a></li><li><a href="https://github.com/chavyleung/scripts" target="_blank" rel="noopener noreferrer">https://github.com/chavyleung/scripts</a></li><li><a href="https://github.com/inoyna11/jd28" target="_blank" rel="noopener noreferrer">https://github.com/inoyna11/jd28</a></li><li><a href="https://github.com/Tsukasa007/my_script" target="_blank" rel="noopener noreferrer">https://github.com/Tsukasa007/my_script</a></li><li><a href="https://github.com/zero205/JD_tencent_scf" target="_blank" rel="noopener noreferrer">https://github.com/zero205/JD_tencent_scf</a></li><li><a href="https://github.com/shufflewzc/faker2" target="_blank" rel="noopener noreferrer">https://github.com/shufflewzc/faker2</a></li><li><a href="https://github.com/smiek2221/scripts" target="_blank" rel="noopener noreferrer">https://github.com/smiek2221/scripts</a></li><li><a href="https://github.com/Aaron-lv/sync" target="_blank" rel="noopener noreferrer">https://github.com/Aaron-lv/sync</a></li><li><a href="https://github.com/zero205/JD_tencent_scf" target="_blank" rel="noopener noreferrer">https://github.com/zero205/JD_tencent_scf</a></li></ul><p><strong>联通</strong></p><ul><li><a href="https://github.com/ailiksr/39shouting" target="_blank" rel="noopener noreferrer">https://github.com/ailiksr/39shouting</a></li><li><a href="https://github.com/srcrs/UnicomTask" target="_blank" rel="noopener noreferrer">https://github.com/srcrs/UnicomTask</a></li><li><a href="https://github.com/mixool/HiCnUnicom" target="_blank" rel="noopener noreferrer">https://github.com/mixool/HiCnUnicom</a></li><li><a href="https://github.com/hzys/HiCnUnicom" target="_blank" rel="noopener noreferrer">https://github.com/hzys/HiCnUnicom</a></li><li><a href="https://github.com/mexxcheng/iread_signin" target="_blank" rel="noopener noreferrer">https://github.com/mexxcheng/iread_signin</a></li><li><a href="https://github.com/ChuJian2/AutoSignMachine" target="_blank" rel="noopener noreferrer">https://github.com/ChuJian2/AutoSignMachine</a></li><li><a href="https://github.com/simo8102/chinaunicom-AutoSignMachine" target="_blank" rel="noopener noreferrer">https://github.com/simo8102/chinaunicom-AutoSignMachine</a></li><li><a href="https://github.com/bigmax706/AutoSign" target="_blank" rel="noopener noreferrer">https://github.com/bigmax706/AutoSign</a></li><li><a href="https://github.com/750421628/39shouting" target="_blank" rel="noopener noreferrer">https://github.com/750421628/39shouting</a></li><li><a href="https://github.com/Gsangu/UnicomGetCoin" target="_blank" rel="noopener noreferrer">https://github.com/Gsangu/UnicomGetCoin</a></li></ul><h2 id="selenium" tabindex="-1"><a class="header-anchor" href="#selenium"><span>selenium</span></a></h2><ul><li><a href="https://github.com/topics/selenium" target="_blank" rel="noopener noreferrer">https://github.com/topics/selenium</a></li><li><a href="https://github.com/topics/testing" target="_blank" rel="noopener noreferrer">https://github.com/topics/testing</a></li></ul><ul><li><a href="https://github.com/SeleniumHQ" target="_blank" rel="noopener noreferrer">https://github.com/SeleniumHQ</a><ul><li><a href="https://selenium.dev/documentation/zh-cn" target="_blank" rel="noopener noreferrer">https://selenium.dev/documentation/zh-cn</a></li><li><a href="https://github.com/caoruiy/selenium-python-docs-zh" target="_blank" rel="noopener noreferrer">https://github.com/caoruiy/selenium-python-docs-zh</a></li><li><a href="https://selenium-python-zh.readthedocs.io" target="_blank" rel="noopener noreferrer">https://selenium-python-zh.readthedocs.io</a></li><li><a href="https://wizardforcel.gitbooks.io/selenium-doc" target="_blank" rel="noopener noreferrer">https://wizardforcel.gitbooks.io/selenium-doc</a></li></ul></li><li><a href="https://github.com/seleniumbase" target="_blank" rel="noopener noreferrer">https://github.com/seleniumbase</a></li><li><a href="http://qzmvc1.top/Python3-Selenium%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95.html" target="_blank" rel="noopener noreferrer">Python3-Selenium开启自动化测试</a></li><li><a href="https://www.twblogs.net/a/5c8414bdbd9eee35cd69c929/zh-cn" target="_blank" rel="noopener noreferrer">python+selenium 判断元素是否存在，是否可点击，是否被选中</a></li><li><a href="https://www.jianshu.com/p/a94918d49c3c" target="_blank" rel="noopener noreferrer">EC：expected_conditions判断页面元素</a></li><li><a href="https://rumenz.com/rumenbiji/python3-selenium-scrollToBottom.html" target="_blank" rel="noopener noreferrer">selenium,Python3滚动到页面底部的几种解决方案</a></li><li><a href="https://www.yuanrenxue.com/python-selenium" target="_blank" rel="noopener noreferrer">Python Selenium教程 - 猿人学Python</a></li></ul><h3 id="函数或变量" tabindex="-1"><a class="header-anchor" href="#函数或变量"><span>函数或变量</span></a></h3><table><thead><tr><th>函数或变量</th><th>说明</th></tr></thead><tbody><tr><td>def file_detector_context(self, file_detector_class, *args, **kwargs):</td><td></td></tr><tr><td>def mobile(self):</td><td></td></tr><tr><td>def name(self):</td><td></td></tr><tr><td>def start_client(self):</td><td></td></tr><tr><td>def stop_client(self):</td><td></td></tr><tr><td>def start_session(self, capabilities, browser_profile=None):</td><td></td></tr><tr><td>def create_web_element(self, element_id):</td><td></td></tr><tr><td>def execute(self, driver_command, params=None):</td><td></td></tr><tr><td>def get(self, url):</td><td></td></tr><tr><td>def title(self):</td><td></td></tr><tr><td>def find_element_by_id(self, id_):</td><td></td></tr><tr><td>def find_elements_by_id(self, id_):</td><td></td></tr><tr><td>def find_element_by_xpath(self, xpath):</td><td></td></tr><tr><td>def find_elements_by_xpath(self, xpath):</td><td></td></tr><tr><td>def find_element_by_link_text(self, link_text):</td><td></td></tr><tr><td>def find_elements_by_link_text(self, text):</td><td></td></tr><tr><td>def find_element_by_partial_link_text(self, link_text):</td><td></td></tr><tr><td>def find_elements_by_partial_link_text(self, link_text):</td><td></td></tr><tr><td>def find_element_by_name(self, name):</td><td></td></tr><tr><td>def find_elements_by_name(self, name):</td><td></td></tr><tr><td>def find_element_by_tag_name(self, name):</td><td></td></tr><tr><td>def find_elements_by_tag_name(self, name):</td><td></td></tr><tr><td>def find_element_by_class_name(self, name):</td><td></td></tr><tr><td>def find_elements_by_class_name(self, name):</td><td></td></tr><tr><td>def find_element_by_css_selector(self, css_selector):</td><td></td></tr><tr><td>def find_elements_by_css_selector(self, css_selector):</td><td></td></tr><tr><td>def execute_script(self, script, *args):</td><td></td></tr><tr><td>def execute_async_script(self, script, *args):</td><td></td></tr><tr><td>def current_url(self):</td><td></td></tr><tr><td>def page_source(self):</td><td></td></tr><tr><td>def close(self):</td><td></td></tr><tr><td>def quit(self):</td><td></td></tr><tr><td>def current_window_handle(self):</td><td></td></tr><tr><td>def window_handles(self):</td><td></td></tr><tr><td>def maximize_window(self):</td><td></td></tr><tr><td>def fullscreen_window(self):</td><td></td></tr><tr><td>def minimize_window(self):</td><td></td></tr><tr><td>def switch_to(self):</td><td></td></tr><tr><td>def switch_to_active_element(self):</td><td></td></tr><tr><td>def switch_to_window(self, window_name):</td><td></td></tr><tr><td>def switch_to_frame(self, frame_reference):</td><td></td></tr><tr><td>def switch_to_default_content(self):</td><td></td></tr><tr><td>def switch_to_alert(self):</td><td></td></tr><tr><td>def back(self):</td><td></td></tr><tr><td>def forward(self):</td><td></td></tr><tr><td>def refresh(self):</td><td></td></tr><tr><td>def get_cookies(self):</td><td></td></tr><tr><td>def get_cookie(self, name):</td><td></td></tr><tr><td>def delete_cookie(self, name):</td><td></td></tr><tr><td>def delete_all_cookies(self):</td><td></td></tr><tr><td>def add_cookie(self, cookie_dict):</td><td></td></tr><tr><td>def implicitly_wait(self, time_to_wait):</td><td></td></tr><tr><td>def set_script_timeout(self, time_to_wait):</td><td></td></tr><tr><td>def set_page_load_timeout(self, time_to_wait):</td><td></td></tr><tr><td>def find_element(self, by=By.ID, value=None):</td><td></td></tr><tr><td>def find_elements(self, by=By.ID, value=None):</td><td></td></tr><tr><td>def desired_capabilities(self):</td><td></td></tr><tr><td>def get_screenshot_as_file(self, filename):</td><td></td></tr><tr><td>def save_screenshot(self, filename):</td><td></td></tr><tr><td>def get_screenshot_as_png(self):</td><td></td></tr><tr><td>def get_screenshot_as_base64(self):</td><td></td></tr><tr><td>def set_window_size(self, width, height, windowHandle=&#39;current&#39;):</td><td></td></tr><tr><td>def get_window_size(self, windowHandle=&#39;current&#39;):</td><td></td></tr><tr><td>def set_window_position(self, x, y, windowHandle=&#39;current&#39;):</td><td></td></tr><tr><td>def get_window_position(self, windowHandle=&#39;current&#39;):</td><td></td></tr><tr><td>def get_window_rect(self):</td><td></td></tr><tr><td>def set_window_rect(self, x=None, y=None, width=None, height=None):</td><td></td></tr><tr><td>def file_detector(self):</td><td></td></tr><tr><td>def file_detector(self, detector):</td><td></td></tr><tr><td>def orientation(self):</td><td></td></tr><tr><td>def orientation(self, value):</td><td></td></tr><tr><td>def application_cache(self):</td><td></td></tr><tr><td>def log_types(self):</td><td></td></tr><tr><td>def get_log(self, log_type):</td><td></td></tr></tbody></table><h2 id="浏览器下载设置" tabindex="-1"><a class="header-anchor" href="#浏览器下载设置"><span>浏览器下载设置</span></a></h2><ul><li><a href="https://github.com/SeleniumHQ/selenium/issues/5722" target="_blank" rel="noopener noreferrer">https://github.com/SeleniumHQ/selenium/issues/5722</a></li><li><a href="https://github.com/SeleniumHQ/selenium/issues/5159" target="_blank" rel="noopener noreferrer">https://github.com/SeleniumHQ/selenium/issues/5159</a></li></ul><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 向Selenium Webwdriver添加对Chrome &quot;send_command&quot;的支持</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.command_executor._commands[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;send_command&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;POST&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/session/$sessionId/chromium/send_command&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># allow自动、deny禁止、default默认</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">params </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;cmd&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Page.setDownloadBehavior&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;params&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;behavior&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;deny&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;downloadPath&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;D:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;send_command&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, params)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">execute_cdp_cmd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Page.setDownloadBehavior&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;behavior&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;deny&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;downloadPath&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;D:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="打开新标签页" tabindex="-1"><a class="header-anchor" href="#打开新标签页"><span>打开新标签页</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 获取主窗口句柄</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main_window </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> driver.current_window_handle</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 通过执行js打开新标签页并访问url</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">execute_script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;window.open(&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">url</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 在新选项卡中打开空白页面</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#driver.execute_script(f&quot;window.open(&#39;&#39;,&#39;_blank&#39;)&quot;)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 获取当前所有窗口句柄（窗口A、B），并切换到新标签页</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.switch_to.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(driver.window_handles[</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 访问url</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#driver.get(url)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 关闭当前窗口。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">close</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 关闭新选项卡后回到主窗口，必须做这一步，否则会引发错误</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.switch_to.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(main_window)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用组合键</strong></p><blockquote><p>该方式在Chrome下无效</p></blockquote><blockquote><p>在增加了设置下载路径代码后，无法打开新标签页，但是捕获到的handler是两个，可以进行切换，只是没有切换动态效果了，实际是切换了的</p></blockquote><blockquote><p><code>OSX</code>操作系统通过组合键<kbd>COMMAND</kbd> + <kbd>T</kbd>或<kbd>COMMAND</kbd> + <kbd>W</kbd>来实现选项卡的打开/关闭</p></blockquote><blockquote><p>在其他操作系统上，可以使用<kbd>CONTROL</kbd> + <kbd>T</kbd> / <kbd>CONTROL</kbd> + <kbd>W</kbd></p></blockquote><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># windows 用Keys.CONTROL 如同ctrl+t打开新标签页</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">find_element_by_tag_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;body&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">send_keys</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(Keys.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">CONTROL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;t&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># &lt;CTRL&gt; + &lt;T&gt;通过Action链发送</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># ActionChains(driver).key_down(Keys.CONTROL).send_keys(&quot;t&quot;).key_up(Keys.CONTROL).perform()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 获取当前所有窗口句柄（窗口A、B），并切换到新标签页</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.switch_to.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(driver.window_handles[</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 访问url</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(url)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># windows 用Keys.CONTROL 如同ctrl+w关闭标签页</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#driver.find_element_by_tag_name(&#39;body&#39;).send_keys(Keys.CONTROL + &#39;w&#39;)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 关闭当前窗口。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">close</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="执行javascript" tabindex="-1"><a class="header-anchor" href="#执行javascript"><span>执行JavaScript</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 通过 js 移动到最下</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">execute_script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;var q=document.documentElement.scrollTop=10000&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 通过 js 返回所有html</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">execute_script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;return document.documentElement.outerHTML&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="m3u8解析下载" tabindex="-1"><a class="header-anchor" href="#m3u8解析下载"><span>m3u8解析下载</span></a></h2><blockquote><p>M3U8有两层：第一层存放的是流信息（EXT-X-STREAM-INF）和第二层的下载链接，第二层才是存放加密（EXT-X-KEY）和<code>ts</code>文件的下载地址</p></blockquote><ul><li><a href="https://github.com/globocom/m3u8" target="_blank" rel="noopener noreferrer">https://github.com/globocom/m3u8</a></li><li><a href="https://github.com/canhlinh/hlsdl" target="_blank" rel="noopener noreferrer">https://github.com/canhlinh/hlsdl</a></li><li><a href="https://github.com/HeiSir2014/M3U8-Downloader" target="_blank" rel="noopener noreferrer">https://github.com/HeiSir2014/M3U8-Downloader</a></li><li><a href="https://www.jianshu.com/p/2a5403234b14" target="_blank" rel="noopener noreferrer">什么是m3u8文件</a></li><li><a href="https://www.junmajinlong.com/others/ts_m3u8" target="_blank" rel="noopener noreferrer">加密的ts+m3u8合并</a></li><li><a href="https://www.cnblogs.com/String-Lee/p/11391893.html" target="_blank" rel="noopener noreferrer">关于m3u8格式的视频文件ts转mp4下载和key加密问题</a></li><li><a href="https://gist.github.com/larvata/95df619df7109d8b74d2b965a3266354" target="_blank" rel="noopener noreferrer">将TS转换为MP4</a></li></ul>`,32))])}const m=o(c,[["render",g],["__file","Python爬虫.html.vue"]]),_=JSON.parse('{"path":"/Python/Python%E7%88%AC%E8%99%AB.html","title":"Python爬虫","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"Flag","slug":"flag","link":"#flag","children":[]},{"level":2,"title":"开源脚本","slug":"开源脚本","link":"#开源脚本","children":[]},{"level":2,"title":"selenium","slug":"selenium","link":"#selenium","children":[{"level":3,"title":"函数或变量","slug":"函数或变量","link":"#函数或变量","children":[]}]},{"level":2,"title":"浏览器下载设置","slug":"浏览器下载设置","link":"#浏览器下载设置","children":[{"level":3,"title":"打开新标签页","slug":"打开新标签页","link":"#打开新标签页","children":[]},{"level":3,"title":"执行JavaScript","slug":"执行javascript","link":"#执行javascript","children":[]}]},{"level":2,"title":"m3u8解析下载","slug":"m3u8解析下载","link":"#m3u8解析下载","children":[]}],"git":{"createdTime":1726030162000,"updatedTime":1726030162000,"contributors":[{"name":"onni-top","email":"admin@onni.top","commits":1}]},"readingTime":{"minutes":5.05,"words":1516},"filePathRelative":"Python/Python爬虫.md","localizedDate":"2024年9月11日","excerpt":"\\n\\n<h2>Flag</h2>\\n<ul>\\n<li><a href=\\"https://github.com/topics/scraper\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/scraper</a></li>\\n<li><a href=\\"https://github.com/topics/webscraper\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/webscraper</a></li>\\n<li><a href=\\"https://github.com/topics/web-scraper\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/web-scraper</a></li>\\n<li><a href=\\"https://github.com/topics/spider\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/spider</a></li>\\n<li><a href=\\"https://github.com/topics/webscraper\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/webscraper</a></li>\\n<li><a href=\\"https://github.com/topics/web-scraper\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/web-scraper</a></li>\\n<li><a href=\\"https://github.com/topics/crawler\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/crawler</a></li>\\n<li><a href=\\"https://github.com/topics/webcrawler\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/webcrawler</a></li>\\n<li><a href=\\"https://github.com/topics/web-crawler\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/web-crawler</a></li>\\n<li><a href=\\"https://github.com/topics/automation\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/topics/automation</a></li>\\n</ul>"}');export{m as comp,_ as data};
